<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="NiuLiangtao">
        <link rel="canonical" href="https://1007530194.github.io/Diary/学习/转载/cs231n-en/en-assignment2_google_cloud/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>Google Cloud Tutorial Part 2 (with GPUs) - Blog of NiuLiangtao</title>
        <link href="../../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../../ToDo/">Blog of NiuLiangtao</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../../../ToDo/">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../AboutMe/">About</a>
</li>
                            
<li >
    <a href="../../../..">Home</a>
</li>
                            
<li >
    <a href="../../../../Nothing/">Nothing</a>
</li>
                            
<li >
    <a href="../../../../ToDo/">要做的</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">书籍 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../书籍/">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">机器学习实战</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../书籍/机器学习实战/00naive-bayes-discuss/">naive-bayes-discuss</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/01.机器学习基础/">1.机器学习基础</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/02.k-近邻算法/">2.k-近邻算法</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/03.决策树/">3.决策树</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/04.朴素贝叶斯/">4.朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/05.Logistic回归/">5.Logistic回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/06.0.支持向量机/">6.支持向量机</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/06.1.支持向量机的几个通俗理解/">6.1.支持向量机的几个通俗理解</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/07.集成方法-随机森林和AdaBoost/">7.集成方法-随机森林和AdaBoost</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/08.预测数值型数据-回归/">8.预测数值型数据：回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/09.树回归/">9.树回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/10.k-means聚类/">10.k-means聚类</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/11.使用Apriori算法进行关联分析/">11.使用Apriori算法进行关联分析</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/12.使用FP-growth算法来高效发现频繁项集/">12.使用FP-growth算法来高效发现频繁项集</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/13.利用PCA来简化数据/">13.利用PCA来简化数据</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/14.利用SVD简化数据/">14.利用SVD简化数据</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/15.大数据与MapReduce/">15.大数据与MapReduce</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/16.推荐系统/">16.推荐系统</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">深度学习</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../书籍/深度学习/DeepLearning/">深度学习中文版</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">学习 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">tensorflow</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../tensorflow/如何选择优化器 optimizer/">如何选择优化器 optimizer</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">深度学习</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../深度学习/主成分分析-2/">主成分分析 (2)</a>
</li>
            
<li >
    <a href="../../../深度学习/主成分分析/">主成分分析</a>
</li>
            
<li >
    <a href="../../../深度学习/最小二乘法/">最小二乘法</a>
</li>
            
<li >
    <a href="../../../深度学习/矩阵分解/">矩阵分解</a>
</li>
            
<li >
    <a href="../../../深度学习/矩阵求导/">矩阵求导</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">转载</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">cs231n-ch</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../cs231n-ch/ch-assignment2_google_cloud/">Google Cloud Tutorial Part 2 (with GPUs)</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-aws-tutorial/">aws-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-classification/">classification</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-convnet-tips/">convnet-tips</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-convolutional-networks/">convolutional-networks</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-google_cloud_tutorial/">Google Cloud Tutorial gce-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-ipython-tutorial/">IPython Tutorial ipython-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-linear-classify/">线性分类</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-1/">neural-networks-1</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-2/">neural-networks-2</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-3/">neural-networks-3</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-case-study/">neural-networks-case-study</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-optimization-1/">optimization-1</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-optimization-2/">optimization-2</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-overview/">Overview of Computer Vision and Visual Recognition overview</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-poster/">CS231n Poster Session poster-session</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-python-numpy-tutorial/">Python Numpy Tutorial python-numpy-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-Readme/">ch Readme</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-transfer-learning/">transfer-learning</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-understanding-cnn/">understanding-cnn</a>
</li>
            
<li >
    <a href="../../cs231n-ch/terminal-tutorial/">Terminal.com Tutorial terminal-tutorial</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">cs231n-en</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">Google Cloud Tutorial Part 2 (with GPUs)</a>
</li>
            
<li >
    <a href="../en-aws-tutorial/">En aws tutorial</a>
</li>
            
<li >
    <a href="../en-classification/">En classification</a>
</li>
            
<li >
    <a href="../en-convnet-tips/">En convnet tips</a>
</li>
            
<li >
    <a href="../en-convolutional-networks/">En convolutional networks</a>
</li>
            
<li >
    <a href="../en-google_cloud_tutorial/">En google cloud tutorial</a>
</li>
            
<li >
    <a href="../en-ipython-tutorial/">En ipython tutorial</a>
</li>
            
<li >
    <a href="../en-linear-classify/">En linear classify</a>
</li>
            
<li >
    <a href="../en-neural-networks-1/">En neural networks 1</a>
</li>
            
<li >
    <a href="../en-neural-networks-2/">En neural networks 2</a>
</li>
            
<li >
    <a href="../en-neural-networks-3/">En neural networks 3</a>
</li>
            
<li >
    <a href="../en-neural-networks-case-study/">En neural networks case study</a>
</li>
            
<li >
    <a href="../en-optimization-1/">En optimization 1</a>
</li>
            
<li >
    <a href="../en-optimization-2/">En optimization 2</a>
</li>
            
<li >
    <a href="../en-overview/">En overview</a>
</li>
            
<li >
    <a href="../en-poster/">En poster</a>
</li>
            
<li >
    <a href="../en-python-numpy-tutorial/">En python numpy tutorial</a>
</li>
            
<li >
    <a href="../en-Readme/">en Readme</a>
</li>
            
<li >
    <a href="../en-terminal-tutorial/">En terminal tutorial</a>
</li>
            
<li >
    <a href="../en-transfer-learning/">En transfer learning</a>
</li>
            
<li >
    <a href="../en-understanding-cnn/">En understanding cnn</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">example</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../example/a-web-crawer-with-a-asyncio-coroutines-1/">A web crawer with a asyncio coroutines 1</a>
</li>
            
<li >
    <a href="../../example/a-web-crawer-with-a-asyncio-coroutines-2/">A web crawer with a asyncio coroutines 2</a>
</li>
            
<li >
    <a href="../../example/bias-variance/">Bias variance</a>
</li>
            
<li >
    <a href="../../example/bitcoin-explained-1/">Bitcoin explained 1</a>
</li>
            
<li >
    <a href="../../example/dive-into-gradient-decent/">Dive into gradient decent</a>
</li>
            
<li >
    <a href="../../example/ethereum-ultimate-guide/">Ethereum ultimate guide</a>
</li>
            
<li >
    <a href="../../example/fork-exec-source/">Fork exec source</a>
</li>
            
<li >
    <a href="../../example/latex语法/">Latex语法</a>
</li>
            
<li >
    <a href="../../example/latex语法1/">Latex语法1</a>
</li>
            
<li >
    <a href="../../example/nosql-in-python/">Nosql in python</a>
</li>
            
<li >
    <a href="../../example/perceptron/">Perceptron</a>
</li>
            
<li >
    <a href="../../example/quick-latex/">Quick latex</a>
</li>
            
<li >
    <a href="../../example/tendermint/">Tendermint</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">example2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../example2/arrays-similar/">Arrays similar</a>
</li>
            
<li >
    <a href="../../example2/baidu-ife-1/">Baidu ife 1</a>
</li>
            
<li >
    <a href="../../example2/create-my-blog-with-jekyll/">Create my blog with jekyll</a>
</li>
            
<li >
    <a href="../../example2/front-end-tools/">Front end tools</a>
</li>
            
<li >
    <a href="../../example2/git-clone-not-master-branch/">Git clone not master branch</a>
</li>
            
<li >
    <a href="../../example2/History-API/">History API</a>
</li>
            
<li >
    <a href="../../example2/how-to-use-babel/">How to use babel</a>
</li>
            
<li >
    <a href="../../example2/how-to-write-a-count-down/">How to write a count down</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-closure/">JavaScript closure</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-function/">JavaScript function</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-good-parts-note1/">JavaScript good parts note1</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-good-parts-note2/">JavaScript good parts note2</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-good-parts-note3/">JavaScript good parts note3</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-Net/">JavaScript Net</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-Object-Oriented/">JavaScript Object Oriented</a>
</li>
            
<li >
    <a href="../../example2/JavaScript-this/">JavaScript this</a>
</li>
            
<li >
    <a href="../../example2/jekyll-theme-version-2.0/">Jekyll theme version 2.0</a>
</li>
            
<li >
    <a href="../../example2/js-create-file-and-download/">Js create file and download</a>
</li>
            
<li >
    <a href="../../example2/low-IE-click-empty-block-bug/">low IE click empty block bug</a>
</li>
            
<li >
    <a href="../../example2/regular-expression-group/">Regular expression group</a>
</li>
            
<li >
    <a href="../../example2/scope/">Scope</a>
</li>
            
<li >
    <a href="../../example2/shuffle-algorithm/">Shuffle algorithm</a>
</li>
            
<li >
    <a href="../../example2/sublimeLinter/">sublimeLinter</a>
</li>
            
<li >
    <a href="../../example2/Syncing-a-fork/">Syncing a fork</a>
</li>
            
<li >
    <a href="../../example2/teach-girlfriend-html-css/">Teach girlfriend html css</a>
</li>
            
<li >
    <a href="../../example2/web-app/">Web app</a>
</li>
            
<li >
    <a href="../../example2/weinre/">Weinre</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">工具 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../工具/About/">About</a>
</li>
                            
<li >
    <a href="../../../../工具/Cheatsheet/">Cheatsheet</a>
</li>
                            
<li >
    <a href="../../../../工具/">Home</a>
</li>
                            
<li >
    <a href="../../../../工具/shell显示时间/">Shell显示时间</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">常用工具</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Latex/">10分钟上手Latex</a>
</li>
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Pandas/">10分钟上手Pandas</a>
</li>
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Python/">10分钟上手Python</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">文章 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../文章/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">日常 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../日常/">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">test</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../日常/test/testtest/">Testtest</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../../cs231n-ch/terminal-tutorial/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../en-aws-tutorial/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/1007530194/Diary">1007530194/Diary</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#google_cloud_tutorial_part_2_with_gpus">Google Cloud Tutorial (Part 2 With GPUs)</a></li>
            <li><a href="#changing_your_billing_account">Changing your Billing Account</a></li>
            <li><a href="#requesting_gpu_quota_increase">Requesting GPU Quota Increase</a></li>
            <li><a href="#starting_your_instance_with_our_provided_disk">Starting Your Instance With Our Provided Disk</a></li>
            <li><a href="#transferring_files_to_your_local_computer">Transferring Files to Your Local Computer</a></li>
        <li class="main "><a href="#big_reminder_make_sure_you_stop_your_instances">BIG REMINDER: Make sure you stop your instances!</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="google_cloud_tutorial_part_2_with_gpus">Google Cloud Tutorial (Part 2 With GPUs)<a class="headerlink" href="#google_cloud_tutorial_part_2_with_gpus" title="Permanent link">&para;</a></h1>
<p>This tutorial assumes that you have already gone through the first Google Cloud tutorial for assignment 1 <a href="http://cs231n.github.io/gce-tutorial/" title="title">here</a>. The first tutorial takes you through the process of setting up a Google Cloud account, launching a VM instance, accessing Jupyter Notebook from your local computer, working on assignment 1 on your VM instance, and transferring files to your local computer. While you created a VM instance without a GPU in the first tutorial, this one walks you through the necessary steps to create an instance with a GPU, and use our provided disk images to work on assignment 2. If you haven't already done so, we advise you to go through the first tutorial to be comfortable with the process of creating an instance with the right configurations and accessing Jupyter Notebook from your local computer.</p>
<h2 id="changing_your_billing_account">Changing your Billing Account<a class="headerlink" href="#changing_your_billing_account" title="Permanent link">&para;</a></h2>
<p>Everyone enrolled in the class should have received $100 Google Cloud credits by now. In order to use GPUs, you have to use these coupons instead of your free trial credits. To do this, follow the instructions on <a href="https://support.google.com/cloud/answer/6293499?hl=en" title="Title">this website</a> to change the billing address associated with your project to <strong>CS 231n- Convolutional Neural Netwks for Visual Recog-Set 1</strong>.</p>
<h2 id="requesting_gpu_quota_increase">Requesting GPU Quota Increase<a class="headerlink" href="#requesting_gpu_quota_increase" title="Permanent link">&para;</a></h2>
<p>To start an instance with a GPU (for the first time) you first need to request an increase in the number of GPUs you can use. To do this, go to your console, click on the <strong>Computer Engine</strong> button and select the <strong>Quotas</strong> menu. You will see a page that looks like the one below. </p>
<div class='fig figcenter fighighlight'>
  <img src='/Dairy/assets/images/cs231n/google-cloud-quotas-screen.png'>
</div>

<p>Click on the blue <strong>Request Increase</strong> button. This opens a new tab with a long form titled <strong>Google Compute Engine Quota Change Request Form</strong> (see screenshot below). 
<div class='fig figcenter fighighlight'>
  <img src='/Dairy/assets/images/cs231n/google-cloud-quotas-form.png'>
</div></p>
<p>Fill out the required portions of the form and put a value of <strong>1</strong> in the <strong>Total Number of GPU dies</strong> section. You only need to do this for the <strong>us-west1</strong> region... don't request GPUs anywhere else, since all your instances should also live in us-west1. </p>
<p>Once you have your quota increase you can just use GPUs (without requesting a quota increase). After you submit the form, you should receive an email approving your quota increase shortly after (I received my email within a minute). If you don't receive your approval within 2 business days, please inform the course staff. Once you have received your quota increase, you can start an instance with a GPU. To do this, while launching a virtual instance as described in the <strong>Launch a Virtual Instance</strong> section <a href="http://cs231n.github.io/gce-tutorial/" title="title">here</a>, select the number of GPUs to be 1 (or 2 if you requested for a quota increase of 2 and you really really need to use 2). As a reminder, you can only use up to the number of GPUs allowed by your quota. </p>
<p><strong>NOTE: Use your GPUs sparingly because they are expensive. See the pricing <a href="https://cloud.google.com/compute/pricing#gpus" title="title">here</a>.</strong> For example, in assignment 2, you only need to have a GPU instance for question 5. So you can work on all other parts of the assignment with a CPU instance that does <em>not</em> have any GPUs. Once you are done with the questions that do not require a GPU, you can transfer your assignment zip file to your local computer as discussed in the <strong>Transferring Files to Your Local Computer</strong> section below. When you get to question 5, start a GPU instance and transfer your zip file from your local computer to your instance. Refer to <a href="https://cloud.google.com/compute/docs/instances/transfer-files" title="title">this page</a> for details on transferring files to Google Cloud. </p>
<h2 id="starting_your_instance_with_our_provided_disk">Starting Your Instance With Our Provided Disk<a class="headerlink" href="#starting_your_instance_with_our_provided_disk" title="Permanent link">&para;</a></h2>
<p>For the remaining assignments and the project, we provide you with disks containing the necessary software for the assignments and commonly used frameworks for the project. To use our disk, you first need to create your own custom image using our file, and use this custom image as the boot disk for your new VM instance. </p>
<h3 id="creating_a_custom_image_using_our_disk">Creating a Custom Image Using Our Disk<a class="headerlink" href="#creating_a_custom_image_using_our_disk" title="Permanent link">&para;</a></h3>
<p>To create your custom image using our provided disk, go to <strong>Compute Engine</strong>, then <strong>Images</strong> and click on the blue <strong>Create Image</strong> button at the top of the page. See the screenshot below.
<div class='fig figcenter fighighlight'>
  <img src='/Dairy/assets/images/cs231n/google-cloud-create-image-screenshot.png'>
</div></p>
<p>Enter your preferred name in the <strong>Name</strong> field. Mine is called <strong>final-cs231n</strong>. Select cloud storage file for <strong>Source</strong>, enter <strong>cs231n-files/cs231n_image.tar.gz</strong> as the <strong>Cloud Storage file</strong> and click on the blue <strong>Create</strong> button. See the screenshot below. It will take a few minutes for your image to be created (about 10-15 in our experience, though your mileage may vary). </p>
<div class='fig figcenter fighighlight'>
  <img src='/Dairy/assets/images/cs231n/google-cloud-select-cloud-storage.png'>
</div>

<h3 id="starting_your_instance_with_your_custom_image">Starting Your Instance with Your Custom Image<a class="headerlink" href="#starting_your_instance_with_your_custom_image" title="Permanent link">&para;</a></h3>
<p>To start your instance using our provided disk, go to <strong>VM Instances</strong> and click on <strong>Create Instance</strong> like you have done before. Make sure you start the instance in <strong>us-west1-b</strong>. Follow the same procedure that you have used to create an instance as detailed <a href="http://cs231n.github.io/gce-tutorial/" title="title">here</a> but with the following differences:</p>
<p>Make sure to provision 1 GPU to your instance by clicking <strong>Customize</strong> in the <strong>Machine Type</strong> box, as in the screenshot below:</p>
<div class='fig figcenter fighighlight'>
  <img src='/Dairy/assets/images/cs231n/google-cloud-instance-gpus.png'>
</div>

<p>Instead of selecting an entry in <strong>OS images</strong> for <strong>Boot disk</strong>, select <strong>Custom images</strong> and the custom image that you created above. Mine is <strong>final-cs231n</strong>. See the screenshot below. </p>
<div class='fig figcenter fighighlight'>
  <img src='/Dairy/assets/images/cs231n/google-cloud-select-custom-image.png'>
</div>

<p>It should take about 5 minutes for the instance to get created. You should now be able to launch your instance with our custom image. The custom disk is 40GB and uses Ubuntu 16.04 LTS. 
The default python version in the system is Python 2.7.2 and there is a virtual environment in <strong>/home/cs231n/myVE35</strong> with version 3.5.2. </p>
<p><strong>NOTE:</strong> Some students have reported GPU instances whose drivers disappear upon restarts. And there is strong evidence to suggest that the issue happens when Ubuntu auto-installs security updates upon booting up. To disable auto-updating, run</p>
<div class="codehilite"><pre><span></span>sudo apt-get remove unattended-upgrades
</pre></div>

<p>after logging into your instance for the first time.</p>
<h3 id="load_the_virtual_environment">Load the virtual environment<a class="headerlink" href="#load_the_virtual_environment" title="Permanent link">&para;</a></h3>
<p>You <strong>don't need to create a new virtual environment</strong> for this assignment -- we are providing you with one, with all the Python packages you need for the assignment already installed. So, unlike the previous assignment, you do not need to run any commands to create the virtual environment (and install packages, etc), just one command to activate it. To use this virtual environment, run the following command (you may have to do this every time you start your instance up, if you don't see your bash prompt prefaced by "(myVE35)"): </p>
<div class="codehilite"><pre><span></span>source /home/cs231n/myVE35/bin/activate
</pre></div>

<p>Here's what you should see after running that to confirm you're in the virtual environment:</p>
<div class="codehilite"><pre><span></span>username@instance-2:~$ source /home/cs231n/myVE35/bin/activate
(myVE35) username@instance-2:~$ which python
/home/cs231n/myVE35/bin/python
(myVE35) username@instance-2:~$ 
</pre></div>

<p>The disk should also have Jupyter 1.0.0, CUDA 8.0, CUDNN 5.1, Pytorch 0.1.11_5 and TensorFlow 1.0.1. GPU support should be automatically enabled for PyTorch and TensorFlow. </p>
<h3 id="getting_started_on_assignment_2">Getting started on Assignment 2<a class="headerlink" href="#getting_started_on_assignment_2" title="Permanent link">&para;</a></h3>
<p>As in assignment 1, you can download the assignment zip file by running:</p>
<div class="codehilite"><pre><span></span>wget http://cs231n.stanford.edu/assignments/2017/spring1617_assignment2.zip
</pre></div>

<p>You can unzip the assignment zip file by running:</p>
<div class="codehilite"><pre><span></span>sudo apt-get install zip #For when you need to zip the file to submit it.
sudo apt-get install unzip
unzip spring1617_assignment2.zip
</pre></div>

<p>Get back to the Assignment 2 instructions <a href="http://cs231n.github.io/assignments2017/assignment2/">here</a>. Follow the instructions starting from the <strong>Download data</strong> section.</p>
<p><strong>NOTE: Some students have seen errors saying that an NVIDIA driver is not installed.</strong> If you see this error, follow the instructions <a href="https://cloud.google.com/compute/docs/gpus/add-gpus#install-driver-script" title="title">here</a> to run the script for <strong>Ubuntu 16.04 LTS or 16.10 - CUDA 8 with latest driver</strong> under <strong>Installing GPU drivers</strong>. I.e. copy and paste the script into a file, lets call the file install_cuda.sh. And then run </p>
<div class="codehilite"><pre><span></span>sudo bash install_cuda.sh 
</pre></div>

<p>Once you run the script above, run the commands 
<div class="codehilite"><pre><span></span>nvidia-smi
nvcc --version
</pre></div></p>
<p>to ensure that the drivers are installed.</p>
<h2 id="transferring_files_to_your_local_computer">Transferring Files to Your Local Computer<a class="headerlink" href="#transferring_files_to_your_local_computer" title="Permanent link">&para;</a></h2>
<p>After following assignment 2 instructions to run the submission script and create assignment2.zip, you can download that file directly from Jupyter. To do this, go to Jupyter Notebook and click on the zip file (in this case assignment2.zip). The file will be downloaded to your local computer. You can also use the <strong>gcloud compute copy-files</strong> command to transfer files as discussed in the <strong>Submission: Transferring Files From Your Instance To Your Computer</strong> section in <a href="http://cs231n.github.io/gce-tutorial/" title="title">the first GCE tutorial</a>.</p>
<h1 id="big_reminder_make_sure_you_stop_your_instances">BIG REMINDER: Make sure you stop your instances!<a class="headerlink" href="#big_reminder_make_sure_you_stop_your_instances" title="Permanent link">&para;</a></h1>
<p>Don't forget to stop your instance when you are done (<strong>by clicking on the stop button at the top of the page showing your instances</strong>). You can restart your instance and the downloaded software will still be available. We have already had some students who left their instances running for many days and have ran out of credits. You will be charged per hour when your instance is running. This includes code development time. We encourage you to read up on Google Cloud, regularly keep track of your credits and not solely rely on our tutorials.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2016 - 2018 Martin Donath</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../../..';</script>
        <script src="../../../../js/base.js"></script>
        <script src="../../../../javascripts/extra.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script src="../../../../search/require.js"></script>
        <script src="../../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
