<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="NiuLiangtao">
        <link rel="canonical" href="https://1007530194.github.io/Diary/学习/转载/example2/JavaScript-good-parts-note1/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>"JavaScript 语言精粹笔记1-语法、对象、函数" - Blog of NiuLiangtao</title>
        <link href="../../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../../ToDo/">Blog of NiuLiangtao</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../../../ToDo/">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../AboutMe/">About</a>
</li>
                            
<li >
    <a href="../../../..">Home</a>
</li>
                            
<li >
    <a href="../../../../Nothing/">Nothing</a>
</li>
                            
<li >
    <a href="../../../../ToDo/">要做的</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">书籍 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../书籍/">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">机器学习实战</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../书籍/机器学习实战/00naive-bayes-discuss/">naive-bayes-discuss</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/01.机器学习基础/">1.机器学习基础</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/02.k-近邻算法/">2.k-近邻算法</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/03.决策树/">3.决策树</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/04.朴素贝叶斯/">4.朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/05.Logistic回归/">5.Logistic回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/06.0.支持向量机/">6.支持向量机</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/06.1.支持向量机的几个通俗理解/">6.1.支持向量机的几个通俗理解</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/07.集成方法-随机森林和AdaBoost/">7.集成方法-随机森林和AdaBoost</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/08.预测数值型数据-回归/">8.预测数值型数据：回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/09.树回归/">9.树回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/10.k-means聚类/">10.k-means聚类</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/11.使用Apriori算法进行关联分析/">11.使用Apriori算法进行关联分析</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/12.使用FP-growth算法来高效发现频繁项集/">12.使用FP-growth算法来高效发现频繁项集</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/13.利用PCA来简化数据/">13.利用PCA来简化数据</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/14.利用SVD简化数据/">14.利用SVD简化数据</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/15.大数据与MapReduce/">15.大数据与MapReduce</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/16.推荐系统/">16.推荐系统</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">深度学习</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../书籍/深度学习/DeepLearning/">深度学习中文版</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">学习 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">tensorflow</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../tensorflow/如何选择优化器 optimizer/">如何选择优化器 optimizer</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">深度学习</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../深度学习/主成分分析-2/">主成分分析 (2)</a>
</li>
            
<li >
    <a href="../../../深度学习/主成分分析/">主成分分析</a>
</li>
            
<li >
    <a href="../../../深度学习/最小二乘法/">最小二乘法</a>
</li>
            
<li >
    <a href="../../../深度学习/矩阵分解/">矩阵分解</a>
</li>
            
<li >
    <a href="../../../深度学习/矩阵求导/">矩阵求导</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">转载</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">cs231n-ch</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../cs231n-ch/ch-assignment2_google_cloud/">Google Cloud Tutorial Part 2 (with GPUs)</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-aws-tutorial/">aws-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-classification/">classification</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-convnet-tips/">convnet-tips</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-convolutional-networks/">convolutional-networks</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-google_cloud_tutorial/">Google Cloud Tutorial gce-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-ipython-tutorial/">IPython Tutorial ipython-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-linear-classify/">线性分类</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-1/">neural-networks-1</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-2/">neural-networks-2</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-3/">neural-networks-3</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-case-study/">neural-networks-case-study</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-optimization-1/">optimization-1</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-optimization-2/">optimization-2</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-overview/">Overview of Computer Vision and Visual Recognition overview</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-poster/">CS231n Poster Session poster-session</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-python-numpy-tutorial/">Python Numpy Tutorial python-numpy-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-Readme/">ch Readme</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-transfer-learning/">transfer-learning</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-understanding-cnn/">understanding-cnn</a>
</li>
            
<li >
    <a href="../../cs231n-ch/terminal-tutorial/">Terminal.com Tutorial terminal-tutorial</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">cs231n-en</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../cs231n-en/en-assignment2_google_cloud/">Google Cloud Tutorial Part 2 (with GPUs)</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-aws-tutorial/">aws-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-classification/">classification</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-convnet-tips/">convnet-tips</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-convolutional-networks/">convolutional-networks</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-google_cloud_tutorial/">Google Cloud Tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-ipython-tutorial/">IPython Tutorial ipython-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-linear-classify/">linear-classify</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-1/">neural-networks-1</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-2/">neural-networks-2</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-3/">neural-networks-3</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-case-study/">neural-networks-case-study</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-optimization-1/">optimization-1</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-optimization-2/">optimization-2</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-overview/">Overview of Computer Vision and Visual Recognition overview</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-poster/">CS231n Poster Session poster-session</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-python-numpy-tutorial/">Python Numpy Tutorial python-numpy-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-Readme/">en Readme</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-terminal-tutorial/">Terminal.com Tutorial terminal-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-transfer-learning/">transfer-learning</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-understanding-cnn/">understanding-cnn</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">example</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../example/a-web-crawer-with-a-asyncio-coroutines-1/">A web crawer with a asyncio coroutines 1</a>
</li>
            
<li >
    <a href="../../example/a-web-crawer-with-a-asyncio-coroutines-2/">A web crawer with a asyncio coroutines 2</a>
</li>
            
<li >
    <a href="../../example/bias-variance/">Bias variance</a>
</li>
            
<li >
    <a href="../../example/bitcoin-explained-1/">用表情符号解释比特币 (1)</a>
</li>
            
<li >
    <a href="../../example/dive-into-gradient-decent/">理解梯度下降</a>
</li>
            
<li >
    <a href="../../example/ethereum-ultimate-guide/">Ethereum ultimate guide</a>
</li>
            
<li >
    <a href="../../example/fork-exec-source/">Fork exec source</a>
</li>
            
<li >
    <a href="../../example/latex语法/">Latex语法</a>
</li>
            
<li >
    <a href="../../example/latex语法1/">latex语法</a>
</li>
            
<li >
    <a href="../../example/nosql-in-python/">Nosql in python</a>
</li>
            
<li >
    <a href="../../example/perceptron/">"感知器"</a>
</li>
            
<li >
    <a href="../../example/quick-latex/">Quick latex</a>
</li>
            
<li >
    <a href="../../example/tendermint/">Tendermint</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">example2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../arrays-similar/">"判断两个数组是否相似 (arraysSimilar)"</a>
</li>
            
<li >
    <a href="../baidu-ife-1/">"百度Web前端技术学院(1)-HTML, CSS基础"</a>
</li>
            
<li >
    <a href="../create-my-blog-with-jekyll/">"Jekyll 搭建静态博客"</a>
</li>
            
<li >
    <a href="../front-end-tools/">"前端的一些资料和工具"</a>
</li>
            
<li >
    <a href="../git-clone-not-master-branch/">"Git 如何 clone 非 master 分支的代码"</a>
</li>
            
<li >
    <a href="../History-API/">"前端处理动态 url 和 pushStatus 的使用"</a>
</li>
            
<li >
    <a href="../how-to-use-babel/">"如何使用 babel"</a>
</li>
            
<li >
    <a href="../how-to-write-a-count-down/">"前端如何写一个精确的倒计时"</a>
</li>
            
<li >
    <a href="../JavaScript-closure/">"JavaScript 中的闭包"</a>
</li>
            
<li >
    <a href="../JavaScript-function/">"JavaScript 函数"</a>
</li>
            
<li class="active">
    <a href="./">"JavaScript 语言精粹笔记1-语法、对象、函数"</a>
</li>
            
<li >
    <a href="../JavaScript-good-parts-note2/">JavaScript good parts note2</a>
</li>
            
<li >
    <a href="../JavaScript-good-parts-note3/">JavaScript good parts note3</a>
</li>
            
<li >
    <a href="../JavaScript-Net/">JavaScript Net</a>
</li>
            
<li >
    <a href="../JavaScript-Object-Oriented/">JavaScript Object Oriented</a>
</li>
            
<li >
    <a href="../JavaScript-this/">JavaScript this</a>
</li>
            
<li >
    <a href="../jekyll-theme-version-2.0/">Jekyll theme version 2.0</a>
</li>
            
<li >
    <a href="../js-create-file-and-download/">Js create file and download</a>
</li>
            
<li >
    <a href="../low-IE-click-empty-block-bug/">low IE click empty block bug</a>
</li>
            
<li >
    <a href="../regular-expression-group/">Regular expression group</a>
</li>
            
<li >
    <a href="../scope/">Scope</a>
</li>
            
<li >
    <a href="../shuffle-algorithm/">Shuffle algorithm</a>
</li>
            
<li >
    <a href="../sublimeLinter/">sublimeLinter</a>
</li>
            
<li >
    <a href="../Syncing-a-fork/">Syncing a fork</a>
</li>
            
<li >
    <a href="../teach-girlfriend-html-css/">Teach girlfriend html css</a>
</li>
            
<li >
    <a href="../web-app/">Web app</a>
</li>
            
<li >
    <a href="../weinre/">Weinre</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">工具 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../工具/About/">About</a>
</li>
                            
<li >
    <a href="../../../../工具/Cheatsheet/">Cheatsheet</a>
</li>
                            
<li >
    <a href="../../../../工具/">Home</a>
</li>
                            
<li >
    <a href="../../../../工具/shell显示时间/">Shell显示时间</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">常用工具</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Latex/">10分钟上手Latex</a>
</li>
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Pandas/">10分钟上手Pandas</a>
</li>
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Python/">10分钟上手Python</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">文章 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../文章/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">日常 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../日常/">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">test</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../日常/test/testtest/">Testtest</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../JavaScript-function/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../JavaScript-good-parts-note2/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/1007530194/Diary">1007530194/Diary</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#_1">语法</a></li>
            <li><a href="#_2">空白</a></li>
            <li><a href="#_3">标识符</a></li>
            <li><a href="#_4">数字</a></li>
            <li><a href="#_5">字符串</a></li>
            <li><a href="#_6">语句</a></li>
            <li><a href="#_7">表达式</a></li>
            <li><a href="#_8">字面量</a></li>
            <li><a href="#_9">函数</a></li>
        <li class="main "><a href="#_10">对象</a></li>
            <li><a href="#_11">对象字面量</a></li>
            <li><a href="#_12">检索</a></li>
            <li><a href="#_13">更新</a></li>
            <li><a href="#_14">引用</a></li>
            <li><a href="#_15">原型</a></li>
            <li><a href="#_16">反射</a></li>
            <li><a href="#_17">枚举</a></li>
            <li><a href="#_18">删除</a></li>
            <li><a href="#_19">减少全局变量污染</a></li>
        <li class="main "><a href="#_20">函数</a></li>
            <li><a href="#_21">函数对象</a></li>
            <li><a href="#_22">函数字面量</a></li>
            <li><a href="#_23">调用</a></li>
            <li><a href="#_27">参数</a></li>
            <li><a href="#_28">返回</a></li>
            <li><a href="#_29">异常</a></li>
            <li><a href="#_30">扩充类型的功能</a></li>
            <li><a href="#_31">递归</a></li>
            <li><a href="#_32">作用域</a></li>
            <li><a href="#_33">闭包</a></li>
            <li><a href="#_34">回调</a></li>
            <li><a href="#_35">模块</a></li>
            <li><a href="#_36">级联</a></li>
            <li><a href="#_37">柯里化</a></li>
            <li><a href="#_38">记忆</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>记录一下阅读蝴蝶书的笔记，本篇为第一部分包含书中前三章内容：语法、对象和函数。</p>
<p><img alt="" src="https://img3.doubanio.com/lpic/s3651235.jpg" /></p>
<p>原书中第一章为精华，做了一些周边介绍，略去。</p>
<h2 id="_1">语法<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="_2">空白<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>这里说一下JavaScript的注释，一种是 <code>/* */</code> 包围的块注释，另一种是 <code>//</code> 开头的行注释。</p>
<p>因为块注释的字符可能是JavaScript中正则表达式字面量，因此不是很安全，如：</p>
<div class="codehilite"><pre><span></span><span class="cm">/*</span>
<span class="cm">    var rm_a = /a*/</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
<span class="o">*</span><span class="err">/</span>
</pre></div>

<h3 id="_3">标识符<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>标识符由一个字母开头，后面可选择性的加上一个或多个字母、数字或下划线。要避免保留字。</p>
<p>标识符被用于语句、变量、参数、属性名、运算符和标记。</p>
<h3 id="_4">数字<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>可以存在指数部分，100和1e2完全相等</p>
<div class="codehilite"><pre><span></span><span class="mi">100</span> <span class="o">===</span> <span class="mi">1</span><span class="nx">e2</span> <span class="c1">// true</span>
</pre></div>

<p>使用<code>isNaN</code>来检测<code>NaN</code>。</p>
<h3 id="_5">字符串<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>当年 JavaScript 被创建的时候，Unicode 是16位字符集，因此 JavaScript 字符串是16位的。</p>
<p>用双引号或单引号包裹。</p>
<p>重点说一下转义字符<code>\</code></p>
<p>反斜杠后面可以跟<code>&quot;</code>, <code>'</code>, <code>\</code>, <code>/</code>, <code>b</code> (backspace), <code>f</code> (formfeed), <code>n</code>, <code>r</code> (carriage return), <code>t</code>, <code>u1234</code></p>
<div class="codehilite"><pre><span></span><span class="s1">&#39;A&#39;</span> <span class="o">===</span> <span class="s1">&#39;\u0041&#39;</span> <span class="c1">// true</span>
</pre></div>

<h3 id="_6">语句<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>每个<code>&lt;script&gt;</code>标签的内容被一起抛到一个公共的全局名字空间中。</p>
<p><code>{...}</code>代码块不会创建新的作用域，因此变量应该被定义在函数的头部，而不是在代码块中。</p>
<p>下列值当做假：</p>
<ul>
<li><code>false</code></li>
<li><code>null</code></li>
<li><code>undefined</code></li>
<li><code>''</code></li>
<li><code>0</code></li>
<li><code>NaN</code></li>
</ul>
<p>其他所有值都当做真</p>
<p><code>for in</code>语句枚举对象的所有属性名（键名），使用<code>object.hasOwnProperty(variable)</code>来确定这个属性名是该对象成员，还是来自原型链。</p>
<div class="codehilite"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="nx">myvar</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">myvar</span><span class="p">))</span> <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h3 id="_7">表达式<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>运算符优先级</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>.</code> <code>[]</code> <code>()</code></td>
<td>提取属性与调用函数</td>
</tr>
<tr>
<td><code>delete</code> <code>new</code> <code>typeof</code> <code>+</code> <code>-</code> <code>!</code></td>
<td>一元运算符</td>
</tr>
<tr>
<td><code>*</code> <code>/</code> <code>%</code></td>
<td></td>
</tr>
<tr>
<td><code>+</code> <code>-</code></td>
<td></td>
</tr>
<tr>
<td><code>&gt;=</code> <code>&lt;=</code> <code>&gt;</code> <code>&lt;</code></td>
<td></td>
</tr>
<tr>
<td><code>===</code> <code>!==</code></td>
<td></td>
</tr>
<tr>
<td><code>&amp;&amp;</code></td>
<td>逻辑与</td>
</tr>
<tr>
<td><code>||</code></td>
<td>逻辑或</td>
</tr>
<tr>
<td><code>?:</code></td>
<td>三目</td>
</tr>
</tbody>
</table>
<h3 id="_8">字面量<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>对象字面量是一种可以方便地按指定规格创建新对象的表示法。</p>
<p>数组字面量是一种可以方便地按指定规格创建新数组的表示法。</p>
<h3 id="_9">函数<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>函数字面量定义了函数值。后续章节详谈。</p>
<h2 id="_10">对象<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<p>对象是属性的容器，每一个属性都拥有名字和值。属性的名字可以是包含空字符串在内的任意字符串。属性的值可以是除<code>undefined</code>值之外的任何值。</p>
<p>JavaScript 包含一种原型链的特性，允许对象继承另一个对象的属性。正确地使用它能减少对象初始化时消耗的时间和内存。</p>
<h3 id="_11">对象字面量<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>一个对象字面量就是包围在一对花括号中的零或多个“名/值”对。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">empty_object</span> <span class="o">=</span> <span class="p">{}</span>

<span class="kd">var</span> <span class="nx">stooge</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Haoyang&#39;</span><span class="p">,</span>
    <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Gao&#39;</span>
<span class="p">}</span>
</pre></div>

<h3 id="_12">检索<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stooge</span><span class="p">.</span><span class="nx">firstName</span><span class="p">);</span> <span class="c1">// Haoyang</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stooge</span><span class="p">[</span><span class="s1">&#39;firstName&#39;</span><span class="p">]);</span> <span class="c1">// Haoyang</span>
</pre></div>

<p>不存在的属性返回<code>undefined</code>。</p>
<p>使用<code>||</code>来填充默认值。</p>
<div class="codehilite"><pre><span></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stooge</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">||</span> <span class="s1">&#39;Joe&#39;</span><span class="p">);</span> <span class="c1">// Haoyang</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stooge</span><span class="p">.</span><span class="nx">age</span> <span class="o">||</span> <span class="mi">25</span><span class="p">);</span> <span class="c1">// 25</span>
</pre></div>

<h3 id="_13">更新<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p>直接使用赋值语句更新，若不存在这个属性，则作为扩充操作。</p>
<div class="codehilite"><pre><span></span><span class="nx">stooge</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="s1">&#39;aaa&#39;</span>
<span class="nx">stooge</span><span class="p">.</span><span class="nx">nickName</span> <span class="o">=</span> <span class="s1">&#39;peip&#39;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stooge</span><span class="p">)</span> <span class="c1">//Object {firstName: &quot;aaa&quot;, lastName: &quot;Gao&quot;, nickName: &quot;peip&quot;}</span>
</pre></div>

<h3 id="_14">引用<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p>对象通过引用来传递他们永远不会被复制。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">stooge</span>
<span class="nx">x</span><span class="p">.</span><span class="nx">hair</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span>
<span class="nx">stooge</span><span class="p">.</span><span class="nx">hair</span> <span class="c1">//&quot;black&quot;</span>
</pre></div>

<h3 id="_15">原型<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h3>
<p>每一个对象都连接到一个原型对象，并且它可以从中继承属性。所有通过字面量创建的对象都连接到<code>Object.prototype</code>，它是JavaScript中的标配对象。</p>
<p>可以使用<code>Object.create()</code>方法创建一个使用原对象作为其原型的新对象。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">anotherStooge</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">stooge</span><span class="p">)</span>
<span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">firstName</span> <span class="c1">//&quot;aaa&quot;</span>
<span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="s1">&#39;bbb&#39;</span>
<span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">firstName</span> <span class="c1">//&quot;bbb&quot;</span>
<span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">hair</span> <span class="c1">//&quot;black&quot;</span>
</pre></div>

<p>新对象先查找自己的属性，若不存在则会向原型方向查找。</p>
<p><img alt="" src="http://ww1.sinaimg.cn/large/7011d6cfjw1f4ieu7focqj207h05caaf.jpg" /></p>
<p>当我们对某个对象作出改变时，不会触及该对象的原型。</p>
<p>原型关系是一种动态关系。如果我们添加一个新的属性到原型中，该属性会立即对所有基于该原型创建的对象可见。</p>
<h3 id="_16">反射<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>在计算机科学中，反射是指计算机程序在运行时（Run time）可以访问、检测和修改它本身状态或行为的一种能力。</p>
<p>检查对象并确定对象有什么属性是很容易的事情，只要试着去检索该属性并验证取得的值。</p>
<p><code>typeof</code>用来确定对象属性的类型。</p>
<p><code>hasOwnProperty</code>，若对象拥有独有的属性，它将返回<code>true</code>。不会检查原型链。</p>
<h3 id="_17">枚举<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h3>
<p>使用<code>for in</code>可以遍历一个对象中的所有属性名，包括原型链上的属性名。可以使用<code>hasOwnProperty</code>过滤原型链上的属性，使用<code>typeof</code>来排除函数。</p>
<div class="codehilite"><pre><span></span><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">anotherStooge</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">anotherStooge</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">!==</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;---&gt;&#39;</span> <span class="o">+</span> <span class="nx">anotherStooge</span><span class="p">[</span><span class="nx">name</span><span class="p">])</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// firstName---&gt;bbb</span>
</pre></div>

<p>属性名是无序的，若想保持顺序应使用数组和<code>for</code>循环。</p>
<h3 id="_18">删除<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p><code>delete</code>可以用来删除对象的属性。若对象包含该属性，则会被移除。它不会触及原型链中的任何对象。</p>
<div class="codehilite"><pre><span></span><span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">firstName</span> <span class="c1">//&quot;bbb&quot;</span>
<span class="k">delete</span> <span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">firstName</span>
<span class="nx">anotherStooge</span><span class="p">.</span><span class="nx">firstName</span> <span class="c1">//&quot;aaa&quot;</span>
</pre></div>

<h3 id="_19">减少全局变量污染<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>JavaScript 可以随意的定义全局变量来容纳应用的所有资源。但这会削弱程序的灵活性，应避免使用全局变量。</p>
<p>最小化使用全局变量的方法之一是为应用只创建一个唯一的全局变量。</p>
<p><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">MYAPP</span> <span class="o">=</span> <span class="p">{}</span>

<span class="nx">MYAPP</span><span class="p">.</span><span class="nx">stooge</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>

<span class="nx">MYAPP</span><span class="p">.</span><span class="nx">flight</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">//...</span>
<span class="p">}</span>
</pre></div>
下一章将使用闭包来进行信息隐藏，是另一种有效减少全局污染的方法。</p>
<h2 id="_20">函数<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h2>
<h3 id="_21">函数对象<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p>JavaScript 中的函数就是对象。函数对象连接到<code>Function.prototype</code>（该原型对象本身连接到<code>Object.prototype</code>）。每个函数对象在创建时会附加两个隐藏属性：函数的上下文和实现函数行为的代码。</p>
<p>函数对象在创建时也随配有一个<code>prototype</code>属性。它的值是一个拥有<code>constructor</code>属性且值即为该函数对象。</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
<span class="p">}</span>
</pre></div>

<p><img alt="" src="http://ww1.sinaimg.cn/large/7011d6cfjw1f4lrei2b3pj208f06et95.jpg" /></p>
<p>因为函数是对象，所以可以像任何其他的值一样被使用。函数可以保存在变量、对象和数组中。函数可以被当做参数传递给其他函数，函数也可以再返回函数。函数也可以拥有方法。</p>
<p>函数的与众不同之处在于可以被调用。</p>
<h3 id="_22">函数字面量<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>函数对象通过函数字面量来创建。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
<span class="p">}</span>
</pre></div>

<p>函数字面量包含4部分，分别是：保留字 function、函数名、参数、花括号中的语句。</p>
<h3 id="_23">调用<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>调用一个函数会暂停当前函数的执行，传递控制权和参数给新函数。除了声明时定义的形式参数，还有两个附加参数：<code>this</code>和<code>arguments</code>。参数<code>this</code>在面向对象编程中非常重要，它的值取决于调用的模式。JavaScript中一共有4中调用模式：方法调用模式、函数调用模式、构造器调用模式、apply调用模式。</p>
<p>实参和形参个数不匹配时，不会有运行时错误。实参过多时，超出的实参被忽略。形参过多时，缺失的值被替换为<code>undefined</code>。</p>
<p>下面的内容也可以参考我以前的博文 <a href="http://gaohaoyang.github.io/2015/06/12/JavaScript-this/">JavaScript 中的 this</a></p>
<h4 id="_24">方法调用模式<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h4>
<p>当一个函数被保存为对象的一个属性时，我们称它为一个方法。当一个方法被调用时，<code>this</code>被绑定到该对象。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nx">increment</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">inc</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">+=</span> <span class="k">typeof</span> <span class="nx">inc</span> <span class="o">===</span> <span class="s1">&#39;number&#39;</span> <span class="o">?</span> <span class="nx">inc</span> <span class="o">:</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nx">myObject</span><span class="p">.</span><span class="nx">increment</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myObject</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="c1">//1</span>

<span class="nx">myObject</span><span class="p">.</span><span class="nx">increment</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myObject</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="c1">//4</span>
</pre></div>

<h4 id="_25">函数调用模式<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h4>
<p>当一个函数并非一个对象的属性时，那么它就是被当做一个函数来调用的。</p>
<p>此时<code>this</code>被绑定到全局对象。即时是内部函数也会将<code>this</code>绑定到全局对象。</p>
<p>可以在函数内创建一个属性并赋值为<code>this</code>来解决这个问题。如下：</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
<span class="p">}</span>

<span class="nx">myObject</span><span class="p">.</span><span class="kr">double</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">that</span> <span class="o">=</span> <span class="k">this</span>
    <span class="kd">var</span> <span class="nx">helper</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">that</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">add</span><span class="p">(</span><span class="nx">that</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="nx">that</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">helper</span><span class="p">()</span>
<span class="p">}</span>

<span class="nx">myObject</span><span class="p">.</span><span class="kr">double</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myObject</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="c1">//8</span>
</pre></div>

<h4 id="_26">构造器调用模式<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h4>
<p>JavaScript是一门基于原型继承的语言。对象可以直接从其他对象继承属性。该语言是无类型的。</p>
<p>如果在一个函数前面带上<code>new</code>来调用，那么背地里将会创建一个连接到该函数的<code>prototype</code>成员的新对象，同时<code>this</code>会被绑定到那个新对象上。</p>
<div class="codehilite"><pre><span></span><span class="c1">//创建构造器函数</span>
<span class="kd">var</span> <span class="nx">Quo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">status</span> <span class="o">=</span> <span class="nx">string</span>
<span class="p">}</span>

<span class="c1">//给Que的所有实例提供一个公共方法</span>
<span class="nx">Quo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getStatus</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">status</span>
<span class="p">}</span>

<span class="c1">//实例化</span>
<span class="kd">var</span> <span class="nx">myQuo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Quo</span><span class="p">(</span><span class="s1">&#39;confused&#39;</span><span class="p">)</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myQuo</span><span class="p">.</span><span class="nx">getStatus</span><span class="p">())</span> <span class="c1">//confused</span>
</pre></div>

<p>书中不推荐这种形式的构造器函数，下一章有更好的解决方案。</p>
<h4 id="apply">Apply 调用模式<a class="headerlink" href="#apply" title="Permanent link">&para;</a></h4>
<p><code>apply</code>方法让我们构建一个参数数组传递给调用函数。他也允许我们选择<code>this</code>的值。<code>apply</code>方法接受两个参数，第一个是要绑定给<code>this</code>的值，第二个是参数数组。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">add</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arr</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sum</span><span class="p">)</span> <span class="c1">//7</span>

<span class="kd">var</span> <span class="nx">statusObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">status</span><span class="o">:</span> <span class="s1">&#39;hello&#39;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">status</span> <span class="o">=</span> <span class="nx">Quo</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getStatus</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">statusObject</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">status</span><span class="p">)</span> <span class="c1">//hello</span>
</pre></div>

<h3 id="_27">参数<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<p>当函数被调用时，会得到一个<code>arguments</code>数组。通过此参数可以访问所有它被调用时传递给它的参数列表，包括那些没有被分配给函数声明时定义的形参的多余参数。这使得编写一个无须指定参数个数的函数成为可能。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">sum</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">sum</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span> <span class="c1">//45</span>
</pre></div>

<p>因语言的设计错误，<code>arguments</code>并不是一个真正的数组。是一个“类似数组”的对象。有<code>length</code>属性，但没有任何数组的方法。</p>
<h3 id="_28">返回<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<p>函数执行时遇到关闭函数体的<code>}</code>时结束。然后把控制权交还给调用该函数的程序。</p>
<p><code>return</code>可以使函数提前返回，不在执行余下的语句。</p>
<p>函数总是会返回一个值，若没有指定，则返回<code>undefined</code>。</p>
<p>若函数调用时在前面加上了<code>new</code>前缀，且返回值不是一个对象的时候，则返回<code>this</code>（该新对象）。</p>
<h3 id="_29">异常<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<p>异常是干扰程序的正常流畅的不寻常的事故。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">add2</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span> <span class="o">!==</span> <span class="s1">&#39;number&#39;</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">b</span> <span class="o">!==</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="p">{</span>
            <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;TypeError&#39;</span><span class="p">,</span>
            <span class="nx">message</span><span class="o">:</span> <span class="s1">&#39;add needs numbers&#39;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add2</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="c1">//5</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">add2</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</pre></div>

<p><img alt="" src="http://ww1.sinaimg.cn/large/7011d6cfjw1f4mprafcvhj20ml00xjrj.jpg" /></p>
<p><code>throw</code>语句中断函数的执行。抛出一个<code>exception</code>对象，该对象包含一个用来识别异常类型的<code>name</code>属性和一个描述性的<code>message</code>属性。也可以自定义其他属性。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">try_it</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">add2</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">try_it</span><span class="p">()</span> <span class="c1">//TypeError: add needs numbers</span>
</pre></div>

<p>如果在<code>try</code>代码块内抛出一个异常，控制权就会跳转到它的<code>catch</code>语句中。</p>
<h3 id="_30">扩充类型的功能<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h3>
<p>JavaScript 允许给语言的基本类型扩充功能。通过<code>Object.prototype</code>添加方法，可以让该方法对所有对象都适用。</p>
<div class="codehilite"><pre><span></span><span class="c1">// 先添加方法使得该方法对所有函数可用</span>
<span class="nb">Function</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">method</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">func</span>
    <span class="k">return</span> <span class="k">this</span>
<span class="p">}</span>

<span class="c1">//添加一个取整方法</span>
<span class="nb">Number</span><span class="p">.</span><span class="nx">method</span><span class="p">(</span><span class="s1">&#39;integer&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Math</span><span class="p">[</span><span class="k">this</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s1">&#39;ceil&#39;</span> <span class="o">:</span> <span class="s1">&#39;floor&#39;</span><span class="p">](</span><span class="k">this</span><span class="p">)</span>
<span class="p">})</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">((</span><span class="o">-</span><span class="mi">10</span> <span class="o">/</span> <span class="mi">3</span><span class="p">).</span><span class="nx">integer</span><span class="p">())</span> <span class="c1">//-3</span>

<span class="c1">//添加 trim()</span>
<span class="nb">String</span><span class="p">.</span><span class="nx">method</span><span class="p">(</span><span class="s1">&#39;trim&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\s+|\s+$/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="p">})</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;  hello alibaba  &#39;</span><span class="p">.</span><span class="nx">trim</span><span class="p">())</span> <span class="c1">//hello alibaba</span>
</pre></div>

<p>JavaScript 原型继承是动态的，因此新的方法立刻被赋予到所有的对象实例上，即使对象实例是在方法被增加之前就创建好了。</p>
<h3 id="_31">递归<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h3>
<p>递归函数就是会直接或者间接地调用自身的一种函数。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">walkTheDom</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">walk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">func</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span>
    <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">firstChild</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">walk</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span>
        <span class="nx">node</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nextSibling</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">getElementsByAttribute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">att</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="nx">walkTheDom</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">actual</span> <span class="o">=</span> <span class="nx">node</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="nx">att</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">actual</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">actual</span> <span class="o">===</span> <span class="nx">value</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="s1">&#39;string&#39;</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">node</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="k">return</span> <span class="nx">results</span>
<span class="p">}</span>

<span class="c1">//在知乎主页上操作</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">getElementsByAttribute</span><span class="p">(</span><span class="s1">&#39;data-za-module&#39;</span><span class="p">,</span> <span class="s1">&#39;AnswerItem&#39;</span><span class="p">))</span>
<span class="c1">//得到下列数据</span>
<span class="c1">//[div.feed-content, div.feed-content, div.feed-content, div.feed-content, div.feed-content, div.feed-content, div.feed-content]</span>
</pre></div>

<h3 id="_32">作用域<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h3>
<p>作用域控制着变量与参数的可见性及生命周期。它减少了名称冲突，并提供了自动内存管理。</p>
<p>无块级作用域。</p>
<p>有函数作用域。</p>
<p>建议在函数体的顶部声明函数中可能用到的所有变量。</p>
<h3 id="_33">闭包<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h3>
<p>作用域的好处是内部函数可以访问定义他们的外部函数的参数和变量（除了<code>this</code>和<code>arguments</code>）。</p>
<p><div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">quo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">get_status</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">status</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">myQuo</span> <span class="o">=</span> <span class="nx">quo</span><span class="p">(</span><span class="s1">&#39;amazed&#39;</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myQuo</span><span class="p">.</span><span class="nx">get_status</span><span class="p">())</span> <span class="c1">//amazed</span>
</pre></div>
狭义的说，返回的那个对象即闭包，它里面的方法可以访问它被创建时所处的上下文环境。</p>
<p>避免在循环中创建函数，容易引起混淆。可以现在循环之外创建一个辅助函数，让辅助函数在返回一个绑定了当前<code>i</code>值的函数，这样就不会导致混淆了。</p>
<h3 id="_34">回调<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h3>
<p>将一个函数作为参数，一旦接收到响应，再调用这个函数。</p>
<h3 id="_35">模块<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h3>
<p>可以用函数和闭包构造模块。</p>
<p>模块模式的一般形式是：一个定义了私有变量和函数的函数；利用闭包创建可以访问私有变量和函数的特权函数；最后返回这个特权函数，或者把他们保存到一个可访问到的地方。</p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">numberCal</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">half</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">n</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="kr">double</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">n</span> <span class="o">*</span> <span class="mi">2</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">tribble</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">n</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="nx">half</span><span class="o">:</span> <span class="nx">half</span><span class="p">,</span>
        <span class="kr">double</span><span class="o">:</span> <span class="kr">double</span><span class="p">,</span>
        <span class="nx">tribble</span><span class="o">:</span> <span class="nx">tribble</span>
    <span class="p">}</span>
<span class="p">}())</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numberCal</span><span class="p">.</span><span class="nx">half</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span> <span class="c1">//2.5</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numberCal</span><span class="p">.</span><span class="nx">half</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span> <span class="c1">//3</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numberCal</span><span class="p">.</span><span class="kr">double</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span> <span class="c1">//14</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">numberCal</span><span class="p">.</span><span class="nx">tribble</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span> <span class="c1">//21</span>
</pre></div>

<h3 id="_36">级联<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h3>
<p>如果让方法返回<code>this</code>而不是默认的<code>undefined</code>，就可以启用级联，即连续调用。</p>
<h3 id="_37">柯里化<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h3>
<p>柯里化允许我们把函数与传递给它的参数相结合，产生出一个新的函数。</p>
<p>详情见以前的博文 <a href="http://gaohaoyang.github.io/2015/06/11/JavaScript-function/#bind--currying">JavaScript 函数 -bind 与 currying</a>。</p>
<h3 id="_38">记忆<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h3>
<p>函数可以将先前操作的结果记录在某个对象里，从而避免无谓的重复运算。这种优化被称为记忆（memoization）。</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2016 - 2018 Martin Donath</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../../..';</script>
        <script src="../../../../js/base.js"></script>
        <script src="../../../../javascripts/extra.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script src="../../../../search/require.js"></script>
        <script src="../../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
