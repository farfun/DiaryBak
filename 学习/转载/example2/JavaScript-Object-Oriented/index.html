<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="NiuLiangtao">
        <link rel="canonical" href="https://1007530194.github.io/Diary/学习/转载/example2/JavaScript-Object-Oriented/">
        <link rel="shortcut icon" href="../../../../img/favicon.ico">
        <title>"JavaScript 面向对象" - Blog of NiuLiangtao</title>
        <link href="../../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../../ToDo/">Blog of NiuLiangtao</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../../../../ToDo/">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../AboutMe/">About</a>
</li>
                            
<li >
    <a href="../../../..">Home</a>
</li>
                            
<li >
    <a href="../../../../Nothing/">Nothing</a>
</li>
                            
<li >
    <a href="../../../../ToDo/">要做的</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">书籍 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../书籍/">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">机器学习实战</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../书籍/机器学习实战/00naive-bayes-discuss/">naive-bayes-discuss</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/01.机器学习基础/">1.机器学习基础</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/02.k-近邻算法/">2.k-近邻算法</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/03.决策树/">3.决策树</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/04.朴素贝叶斯/">4.朴素贝叶斯</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/05.Logistic回归/">5.Logistic回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/06.0.支持向量机/">6.支持向量机</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/06.1.支持向量机的几个通俗理解/">6.1.支持向量机的几个通俗理解</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/07.集成方法-随机森林和AdaBoost/">7.集成方法-随机森林和AdaBoost</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/08.预测数值型数据-回归/">8.预测数值型数据：回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/09.树回归/">9.树回归</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/10.k-means聚类/">10.k-means聚类</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/11.使用Apriori算法进行关联分析/">11.使用Apriori算法进行关联分析</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/12.使用FP-growth算法来高效发现频繁项集/">12.使用FP-growth算法来高效发现频繁项集</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/13.利用PCA来简化数据/">13.利用PCA来简化数据</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/14.利用SVD简化数据/">14.利用SVD简化数据</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/15.大数据与MapReduce/">15.大数据与MapReduce</a>
</li>
            
<li >
    <a href="../../../../书籍/机器学习实战/16.推荐系统/">16.推荐系统</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">深度学习</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../书籍/深度学习/DeepLearning/">深度学习中文版</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">学习 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">tensorflow</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../tensorflow/如何选择优化器 optimizer/">如何选择优化器 optimizer</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">深度学习</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../深度学习/主成分分析-2/">主成分分析 (2)</a>
</li>
            
<li >
    <a href="../../../深度学习/主成分分析/">主成分分析</a>
</li>
            
<li >
    <a href="../../../深度学习/最小二乘法/">最小二乘法</a>
</li>
            
<li >
    <a href="../../../深度学习/矩阵分解/">矩阵分解</a>
</li>
            
<li >
    <a href="../../../深度学习/矩阵求导/">矩阵求导</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">转载</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#">cs231n-ch</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../cs231n-ch/ch-assignment2_google_cloud/">Google Cloud Tutorial Part 2 (with GPUs)</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-aws-tutorial/">aws-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-classification/">classification</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-convnet-tips/">convnet-tips</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-convolutional-networks/">convolutional-networks</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-google_cloud_tutorial/">Google Cloud Tutorial gce-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-ipython-tutorial/">IPython Tutorial ipython-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-linear-classify/">线性分类</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-1/">neural-networks-1</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-2/">neural-networks-2</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-3/">neural-networks-3</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-neural-networks-case-study/">neural-networks-case-study</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-optimization-1/">optimization-1</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-optimization-2/">optimization-2</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-overview/">Overview of Computer Vision and Visual Recognition overview</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-poster/">CS231n Poster Session poster-session</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-python-numpy-tutorial/">Python Numpy Tutorial python-numpy-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-Readme/">ch Readme</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-transfer-learning/">transfer-learning</a>
</li>
            
<li >
    <a href="../../cs231n-ch/ch-understanding-cnn/">understanding-cnn</a>
</li>
            
<li >
    <a href="../../cs231n-ch/terminal-tutorial/">Terminal.com Tutorial terminal-tutorial</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">cs231n-en</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../cs231n-en/en-assignment2_google_cloud/">Google Cloud Tutorial Part 2 (with GPUs)</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-aws-tutorial/">aws-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-classification/">classification</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-convnet-tips/">convnet-tips</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-convolutional-networks/">convolutional-networks</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-google_cloud_tutorial/">Google Cloud Tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-ipython-tutorial/">IPython Tutorial ipython-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-linear-classify/">linear-classify</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-1/">neural-networks-1</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-2/">neural-networks-2</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-3/">neural-networks-3</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-neural-networks-case-study/">neural-networks-case-study</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-optimization-1/">optimization-1</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-optimization-2/">optimization-2</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-overview/">Overview of Computer Vision and Visual Recognition overview</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-poster/">CS231n Poster Session poster-session</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-python-numpy-tutorial/">Python Numpy Tutorial python-numpy-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-Readme/">en Readme</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-terminal-tutorial/">Terminal.com Tutorial terminal-tutorial</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-transfer-learning/">transfer-learning</a>
</li>
            
<li >
    <a href="../../cs231n-en/en-understanding-cnn/">understanding-cnn</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">example</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../example/a-web-crawer-with-a-asyncio-coroutines-1/">A web crawer with a asyncio coroutines 1</a>
</li>
            
<li >
    <a href="../../example/a-web-crawer-with-a-asyncio-coroutines-2/">A web crawer with a asyncio coroutines 2</a>
</li>
            
<li >
    <a href="../../example/bias-variance/">Bias variance</a>
</li>
            
<li >
    <a href="../../example/bitcoin-explained-1/">用表情符号解释比特币 (1)</a>
</li>
            
<li >
    <a href="../../example/dive-into-gradient-decent/">理解梯度下降</a>
</li>
            
<li >
    <a href="../../example/ethereum-ultimate-guide/">Ethereum ultimate guide</a>
</li>
            
<li >
    <a href="../../example/fork-exec-source/">Fork exec source</a>
</li>
            
<li >
    <a href="../../example/latex语法/">Latex语法</a>
</li>
            
<li >
    <a href="../../example/latex语法1/">latex语法</a>
</li>
            
<li >
    <a href="../../example/nosql-in-python/">Nosql in python</a>
</li>
            
<li >
    <a href="../../example/perceptron/">"感知器"</a>
</li>
            
<li >
    <a href="../../example/quick-latex/">Quick latex</a>
</li>
            
<li >
    <a href="../../example/tendermint/">Tendermint</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#">example2</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../arrays-similar/">"判断两个数组是否相似 (arraysSimilar)"</a>
</li>
            
<li >
    <a href="../baidu-ife-1/">"百度Web前端技术学院(1)-HTML, CSS基础"</a>
</li>
            
<li >
    <a href="../create-my-blog-with-jekyll/">"Jekyll 搭建静态博客"</a>
</li>
            
<li >
    <a href="../front-end-tools/">"前端的一些资料和工具"</a>
</li>
            
<li >
    <a href="../git-clone-not-master-branch/">"Git 如何 clone 非 master 分支的代码"</a>
</li>
            
<li >
    <a href="../History-API/">"前端处理动态 url 和 pushStatus 的使用"</a>
</li>
            
<li >
    <a href="../how-to-use-babel/">"如何使用 babel"</a>
</li>
            
<li >
    <a href="../how-to-write-a-count-down/">"前端如何写一个精确的倒计时"</a>
</li>
            
<li >
    <a href="../JavaScript-closure/">"JavaScript 中的闭包"</a>
</li>
            
<li >
    <a href="../JavaScript-function/">"JavaScript 函数"</a>
</li>
            
<li >
    <a href="../JavaScript-good-parts-note1/">"JavaScript 语言精粹笔记1-语法、对象、函数"</a>
</li>
            
<li >
    <a href="../JavaScript-good-parts-note2/">"JavaScript 语言精粹笔记2-继承、数组、正则表达式"</a>
</li>
            
<li >
    <a href="../JavaScript-good-parts-note3/">"JavaScript 语言精粹笔记3-方法、毒瘤等"</a>
</li>
            
<li >
    <a href="../JavaScript-Net/">"JavaScript 阶段总结"</a>
</li>
            
<li class="active">
    <a href="./">"JavaScript 面向对象"</a>
</li>
            
<li >
    <a href="../JavaScript-this/">JavaScript this</a>
</li>
            
<li >
    <a href="../jekyll-theme-version-2.0/">Jekyll theme version 2.0</a>
</li>
            
<li >
    <a href="../js-create-file-and-download/">Js create file and download</a>
</li>
            
<li >
    <a href="../low-IE-click-empty-block-bug/">low IE click empty block bug</a>
</li>
            
<li >
    <a href="../regular-expression-group/">Regular expression group</a>
</li>
            
<li >
    <a href="../scope/">Scope</a>
</li>
            
<li >
    <a href="../shuffle-algorithm/">Shuffle algorithm</a>
</li>
            
<li >
    <a href="../sublimeLinter/">sublimeLinter</a>
</li>
            
<li >
    <a href="../Syncing-a-fork/">Syncing a fork</a>
</li>
            
<li >
    <a href="../teach-girlfriend-html-css/">Teach girlfriend html css</a>
</li>
            
<li >
    <a href="../web-app/">Web app</a>
</li>
            
<li >
    <a href="../weinre/">Weinre</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">工具 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../工具/About/">About</a>
</li>
                            
<li >
    <a href="../../../../工具/Cheatsheet/">Cheatsheet</a>
</li>
                            
<li >
    <a href="../../../../工具/">Home</a>
</li>
                            
<li >
    <a href="../../../../工具/shell显示时间/">Shell显示时间</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">常用工具</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Latex/">10分钟上手Latex</a>
</li>
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Pandas/">10分钟上手Pandas</a>
</li>
            
<li >
    <a href="../../../../工具/常用工具/10分钟上手Python/">10分钟上手Python</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">文章 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../文章/">Home</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">日常 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../../../日常/">Home</a>
</li>
                            
  <li class="dropdown-submenu">
    <a href="#">test</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../../../日常/test/testtest/">Testtest</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../JavaScript-Net/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../JavaScript-this/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/1007530194/Diary">1007530194/Diary</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#_1">概念</a></li>
        <li class="main "><a href="#_2">基于原型的继承</a></li>
            <li><a href="#prototype">prototype 属性与原型</a></li>
            <li><a href="#_4">原型链</a></li>
        <li class="main "><a href="#prototype_1">prototype 属性</a></li>
            <li><a href="#prototype_2">改变 prototype</a></li>
            <li><a href="#prototype_3">内置构造器的 prototype 属性</a></li>
            <li><a href="#-new">创建对象-new/原型链</a></li>
        <li class="main "><a href="#instanceof">instanceof</a></li>
        <li class="main "><a href="#_5">实现继承的方式</a></li>
        <li class="main "><a href="#_6">模拟重载</a></li>
        <li class="main "><a href="#_7">调用子类方法</a></li>
        <li class="main "><a href="#_8">链式调用</a></li>
        <li class="main "><a href="#_9">抽象类</a></li>
        <li class="main "><a href="#_10">模块化</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>本文为慕课网 <a href="http://www.imooc.com/learn/277">JavaScript深入浅出</a>  JavaScript 面向对象笔记。</p>
<h2 id="_1">概念<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<blockquote>
<p>面向对象程序设计（Object-oriented programming，OOP）是一种程序设计范型，同时也是一种程序开发的方法。对象指的是类的实例。它将对象作为程序的基本单元，将程序和数据封装其中，以提高软件的重用性、灵活性和扩展性。</p>
<p>——维基百科</p>
</blockquote>
<p>一般面向对象包含：继承，封装，多态，抽象</p>
<hr />
<h2 id="_2">基于原型的继承<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>function Foo() {
    this.y = 2;
}
console.log(typeof Foo.prototype); //object

Foo.prototype.x = 1;
var obj3 = new Foo();

console.log(obj3.y); //2
console.log(obj3.x); //1
</pre></div>


<p>创建函数 <code>Foo</code> 的时候，就会有一个内置的 <code>Foo.prototype</code> 属性，并且这个属性是对象。</p>
<p>在使用 <code>new Foo();</code> 创建对象实例时。<code>this</code> 会指向一个对象，并且这个对象的原型会指向 <code>Foo.prototype</code> 属性。<code>this.y = 2</code> 给这个对象赋值，并把这个对象返回。把这个对象赋值给 <code>obj3</code>。</p>
<p><code>y</code> 是 <code>obj3</code> 上的，<code>x</code> 是 <code>obj3</code> 的原型 <code>Foo.prototype</code> 上的。</p>
<p><img alt="prototype" src="http://7q5cdt.com1.z0.glb.clouddn.com/blog-prototype.png" /></p>
<hr />
<h3 id="prototype">prototype 属性与原型<a class="headerlink" href="#prototype" title="Permanent link">&para;</a></h3>
<p>prototype 是函数对象上预设的对象属性。</p>
<p>原型是对象上的原型，通常是构造器的 prototype 属性。</p>
<hr />
<h4 id="_3">例<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span>function Person(name, age) {
    this.name = name;
    this.age = age;
}

Person.prototype.LEGS_NUM = 2;
Person.prototype.ARMS_NUM = 2;

Person.prototype.hi = function() {
    console.log(&#39;Hi, my name is &#39; + this.name + &quot;. I&#39;m &quot; + this.age + &#39; years old now&#39;);
};

Person.prototype.walking = function() {
    console.log(this.name + &#39; is walking...&#39;);
};

function Student(name, age, className) {
    Person.call(this, name, age); //使 Person 中的 this 指向 Student
    this.className = className;
}

Student.prototype = Object.create(Person.prototype);
Student.prototype.constructor = Student;

Student.prototype.hi = function() {
    console.log(&#39;Hi, my name is &#39; + this.name + &quot;. I&#39;m &quot; + this.age + &#39; years old now, and from &#39; + this.className + &quot;.&quot;);
};

Student.prototype.learn = function(subject) {
    console.log(this.name + &#39; is learning &#39; + subject + &#39; at &#39; + this.className + &#39;.&#39;);
}

//test
var gao = new Student(&#39;Gao&#39;, &#39;24&#39;, &#39;Class 3123&#39;);
console.log(gao); // 这个对象的具体内容见下图
gao.hi(); //Hi, my name is Gao. I&#39;m 24 years old now, and from Class 3123.
gao.LEGS_NUM; //2
gao.walking(); //Gao is walking...
gao.learn(&#39;JavaScript&#39;); //Gao is learning JavaScript at Class 3123.
</pre></div>


<ul>
<li><code>Object.create(arg)</code> 创建一个空对象，并且这个对象的原型指向参数 <code>arg</code>。</li>
<li><code>Student.prototype.constructor = Student</code> 为了保证一致性，否则 constructor 指向 Person。</li>
</ul>
<hr />
<h3 id="_4">原型链<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>gao 对象的原型链：</p>
<p><img alt="Object" src="http://7q5cdt.com1.z0.glb.clouddn.com/blog-oop-gao.png" /></p>
<p>下面通过图形展示原型链：</p>
<p><img alt="原型链" src="http://7q5cdt.com1.z0.glb.clouddn.com/blog-原型链.png" /></p>
<hr />
<h4 id="objectcreatenull_bindnull"><code>Object.create(null)</code> &amp; <code>.bind(null)</code><a class="headerlink" href="#objectcreatenull_bindnull" title="Permanent link">&para;</a></h4>
<p>这两种算是特例。</p>
<p><code>Object.create(null)</code> 和 <code>.bind(null)</code> 这两种方式创建出来的对象是没有 <code>prototype</code> 属性的，为 <code>undefined</code>。</p>
<hr />
<h2 id="prototype_1">prototype 属性<a class="headerlink" href="#prototype_1" title="Permanent link">&para;</a></h2>
<h3 id="prototype_2">改变 prototype<a class="headerlink" href="#prototype_2" title="Permanent link">&para;</a></h3>
<p>JavaScript 中的 prototype 是对象，在运行的时候可以修改。</p>
<p>给 prototype 添加或删除一些属性，是会影响到已经创建好的实例对象的。</p>
<p>但是，直接修改 prototype 属性，是不会影响到已经创建好的实例对象的。但是会影响到新的实例对象。如下代码：</p>
<div class="codehilite"><pre><span></span>// 上接上面的代码

// 给 prototype 添加或删除一些属性
Student.prototype.x = 101;
console.log(gao.x); //101

// 直接修改 prototype 属性
Student.prototype = {
    y: 2
};

// 不会影响到已创建好的实例对象
console.log(gao.x); //101
console.log(gao.y); //undefined

// 会影响到新创建的实例对象
var ying = new Student(&#39;Ying&#39;, 24, &#39;UI&#39;);
console.log(ying.x); //undefined
console.log(ying.y); //2
</pre></div>


<hr />
<h3 id="prototype_3">内置构造器的 <code>prototype</code> 属性<a class="headerlink" href="#prototype_3" title="Permanent link">&para;</a></h3>
<p>修改内置构造器的 <code>prototype</code> 属性后，在实例化这个对象后，枚举其属性时，会把修改的内置构造器的 <code>prototype</code> 属性也枚举出来，有时候这是要避免的。可用 <code>defineProperty</code> 方法解决。如下代码：</p>
<div class="codehilite"><pre><span></span>Object.prototype.x = 1;
var obj = {};
console.log(obj.x); //1
console.log(obj);

for (var k in obj) {
    console.log(&#39;result---&gt;&#39; + k);
}
// result---&gt;x
</pre></div>


<p>使用 <code>defineProperty</code> 后：</p>
<div class="codehilite"><pre><span></span>Object.defineProperty(Object.prototype, &#39;x&#39;, {
    writable: true,
    value: 1
});
var obj = {};
console.log(obj.x);//1
console.log(obj);
for (var k in obj) {
    console.log(&#39;result---&gt;&#39; + k);
}
// nothing output here
</pre></div>


<p>其实也可以这样枚举，使用 <code>hasOwnProperty</code> 方法：</p>
<div class="codehilite"><pre><span></span>for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
        console.log(&quot;result---&gt;&quot; + key);
    }
}
</pre></div>


<hr />
<h3 id="-new">创建对象-new/原型链<a class="headerlink" href="#-new" title="Permanent link">&para;</a></h3>
<p>![prototype](<a href="http://7q5cdt.com1.z0.glb.clouddn.com/blog-new">http://7q5cdt.com1.z0.glb.clouddn.com/blog-new</a> prototype.png)</p>
<hr />
<h2 id="instanceof">instanceof<a class="headerlink" href="#instanceof" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>console.log([1, 2] instanceof Array); //true
console.log([1, 2] instanceof Object); //true
console.log(new Object() instanceof Array); //false
</pre></div>


<p>左边要求是对象，右边要求是构造器或函数。它会判断：<strong>右边的构造器中的 <code>prototype</code> 属性是否出现在左边的对象的原型链上。</strong></p>
<ul>
<li>**注意：**不同的 window 或 iframe 间的对象类型检测**不能**使用 <code>instanceof</code>！</li>
</ul>
<hr />
<h2 id="_5">实现继承的方式<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>function Person() {}

function Student() {}

Student.prototype = Person.prototype; //1

Student.prototype = new Person(); //2

Student.prototype = Object.create(Person.prototype); //3

Student.prototype.constructor = Student;
</pre></div>


<p>注释中：</p>
<p>1 是错误的。如果改变了 Student 就会改变 Person</p>
<p>2 可以实现继承，但是其调用了构造函数，若父类构造函数中有形参，那么传值就会比较奇怪。</p>
<p>3 是最好的方法。创建了一个空对象，并且对象的原型指向参数 Person.prototype。这样便实现了继承。同时原型链写，不向上查找。但是 <code>Object.create</code> 是ES5 中的方法，所以可以使用下列代码做兼容：</p>
<div class="codehilite"><pre><span></span>if (!Object.create) {
    Object.create = function(proto) {
        function F() {}
        F.prototype = proto;
        return new F;
    };
}
</pre></div>


<hr />
<h2 id="_6">模拟重载<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>function Person() {
    var args = arguments;
    if (typeof args[0] === &#39;object&#39; &amp;&amp; args[0]) {
        if (args[0].name) {
            this.name = args[0].name;
        }
        if(args[0].age){
            this.age = args[0].age;
        }
    } else {
        if (args[0]) {
            this.name = args[0];
        }
        if (args[1]) {
            this.age = args[1];
        }
    }
}

//重写 toString 方法
Person.prototype.toString = function() {
    console.log(&#39;name=&#39;+this.name+&#39;, age=&#39;+this.age);
};

var gao = new Person({name:&#39;Gao&#39;,age:24});
gao.toString(); // name=Gao, age=24

var ying = new Person(&#39;Ying&#39;,25);
ying.toString(); // name=Ying, age=25
</pre></div>


<p>对参数进行判断，模拟实现重载。</p>
<hr />
<h2 id="_7">调用子类方法<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>function Person(name) {
    this.name = name;
}

function Student(name, className) {
    this.className = className;
    Person.call(this, name); // 调用基类的构造器
}

var gao = new Student(&#39;Gao&#39;, &#39;3123&#39;);
console.log(gao); // Student {className: &quot;3123&quot;, name: &quot;Gao&quot;}

Person.prototype.init = function() {};

Student.prototype.init = function() {
    // do sth...
    Person.prototype.init.apply(this, arguments); // 同时也想调用父类被覆盖的方法
};
</pre></div>


<p>主要是两种：调用父类的构造器，调用原型链上父类被覆盖的方法。</p>
<hr />
<h2 id="_8">链式调用<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>function ClassManager() {}
ClassManager.prototype.addClass = function(str) {
    console.log(&#39;Class: &#39; + str + &#39; added&#39;);
    return this;
};

var manager = new ClassManager();
manager.addClass(&#39;classA&#39;).addClass(&#39;classB&#39;).addClass(&#39;classC&#39;);
// Class: classA added
// Class: classB added
// Class: classC added
</pre></div>


<p>重点在于 return this。返回这个 ClassManager 的实例。这样这个实例又可以继续调用方法。</p>
<hr />
<h2 id="_9">抽象类<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>在构造器中 <code>throw new Error('');</code> 抛异常。这样防止这个类被直接调用。</p>
<div class="codehilite"><pre><span></span>function DetectorBase() {
    throw new Error(&#39;Abstract class can not be invoked directly!&#39;);
}

DetectorBase.detect = function() {
    console.log(&#39;Detection starting...&#39;);
}
DetectorBase.stop = function() {
    console.log(&#39;Detection stopped.&#39;);
};
DetectorBase.init = function() {
    throw new Error(&#39;Error&#39;);
}

var d = new DetectorBase();// Uncaught Error: Abstract class can not be invoked directly!

function LinkDetector() {}
LinkDetector.prototype = Object.create(DetectorBase.prototype);
LinkDetector.prototype.constructor = LinkDetector;

var l = new LinkDetector();
console.log(l); //LinkDetector {}__proto__: LinkDetector
l.detect(); //Uncaught TypeError: l.detect is not a function
l.init(); //Uncaught TypeError: l.init is not a function
</pre></div>


<p><code>var d = new DetectorBase();</code> 是不能实例化的，会报错</p>
<p><code>l.detect();</code> 但是这个为什么报错我就不知道了。</p>
<p>已经在原课程下提问了，期待老师的讲解。 <a href="http://www.imooc.com/qadetail/82732">抽象类中子类为什么不能调用父类的非抽象方法？</a></p>
<p>问题已经解决了，应该是老师当时的课件写错了，应该再基类中将这两个方法写在其原型 prototype 上。如下：</p>
<div class="codehilite"><pre><span></span>function DetectorBase() {
    throw new Error(&#39;Abstract class can not be invoked directly!&#39;);
}

DetectorBase.prototype.detect = function() {
    console.log(&#39;Detection starting...&#39;);
};
DetectorBase.prototype.stop = function() {
    console.log(&#39;Detection stopped.&#39;);
};
DetectorBase.prototype.init = function() {
    throw new Error(&#39;Error&#39;);
};

// var d = new DetectorBase();// Uncaught Error: Abstract class can not be invoked directly!

function LinkDetector() {}
LinkDetector.prototype = Object.create(DetectorBase.prototype);
LinkDetector.prototype.constructor = LinkDetector;

var l = new LinkDetector();
console.log(l); //LinkDetector {}__proto__: LinkDetector
l.detect(); //Detection starting...
l.init(); //Uncaught Error: Error
</pre></div>


<hr />
<h2 id="_10">模块化<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span>var moduleA;
moduleA = function() {
    var prop = 1;

    function func() {}

    return {
        func: func,
        prop: prop
    };
}(); // 立即执行匿名函数
</pre></div>


<p>prop，func 不会被泄露到全局作用域。</p>
<p>或者另一种写法，使用 new</p>
<div class="codehilite"><pre><span></span>moduleA = new function() {
    var prop = 1;

    function func() {}

    this.func = func;
    this.prop = prop;
}
</pre></div>


<p>更复杂的可以使用 Sea.js Kissy Require.js 模块化工具。</p>
<hr />
<p>最后补充一点设计模式相关的资料，我还没有来得及看的：</p>
<ul>
<li><a href="http://www.oschina.net/translate/learning-javascript-design-patterns">学用 JavaScript 设计模式</a></li>
<li><a href="http://blog.jobbole.com/29454/">常用的Javascript设计模式</a></li>
<li><a href="http://developer.51cto.com/art/201109/288650_all.htm">JavaScript设计模式深入分析</a></li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2016 - 2018 Martin Donath</p>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../../../..';</script>
        <script src="../../../../js/base.js"></script>
        <script src="../../../../javascripts/extra.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script src="../../../../search/require.js"></script>
        <script src="../../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
